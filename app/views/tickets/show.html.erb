  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

  <script>
    function myFunction(id) {

      $.ajax({
        type: 'GET',
        url: "/book?id=" + id,
        success: function () {
          alert('you get the ticket');          
        },
        error: function () {
          alert('An error occurred');
        }
      });
      console.log("you clicked me");
    }
  </script>

     <div class="container mt-4">
     <div class="row d-flex">
        <div class="col justify-content-start">
           <a class="nav-item text-secondary text-decoration-none" href="/">Home</a>
        </div> 
        <div class="col d-flex justify-content-end ">
          <button type="button" class="btn btn-secondary m-1">
          Total Booked: 
         </button>
          <button type="button" class="btn btn-secondary m-1">
          Toal Unbooked:
         </button>
        </div>  
    </div>
      <div class="row">
              <%if @ticket.count==0%>
              <h5 class="sorry">No Tickets available!!!</h5>
              <%else%>
              <% @ticket.each do|ticket|%>
              <% if ticket.status=="not-booked"%>
              <div id = "one">  
              <%else%>
              <div id = "two">  
              <%end%>
              <b>Ticket Name: </b><%= ticket.name %>
              <b>Ticket Price: </b><%= ticket.price %>
              <div>
                <button type="button" class="btn btn-secondary" onclick="myFunction(<%=ticket.id %>)">
                  Book-Ticket
                </button>
              </div>
              </div> 
              <%end%>
              <%end%>
          </div>
        </div>
      </div>   
<!-- Modal -->
<%
=begin%>
 <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Book-Ticket</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Are you sure want to book ticket?
      </div>
      <%if @event.ticket.count>0%>
      <div class="center m-2">
          <button type="button"  onclick="myFunction(<%= Ticket.find_by(event_id: @event.id).id %>)" class="btn btn-secondary">
            Yes
          </button>
      </div>
      <%else%>
       <div class="center m-2">
      </div>
      <%end%>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div> 
<%
=end%>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
  